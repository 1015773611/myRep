(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory() :
  typeof define === 'function' && define.amd ? define(factory) :
  (factory());}(this, function () {'use strict';f("log",function(a){for(var b=0;b<arguments.length;b++);});function h(){return"https:"!=window.location.protocol?"ws":"wss"}f("getWSProto",h);
function aa(){var a=navigator.userAgent,b=a.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(b[1])){var c=/\brv[ :]+(\d+)/g.exec(a)||[];return["IE",c[1]]}if("Chrome"===b[1]&&(c=a.match(/\b(OPR|Edge)\/(\d+)/)))return c.slice(1);b=b[2]?[b[1],b[2]]:[navigator.appName,navigator.appVersion,"-?"];(c=a.match(/version\/(\d+)/i))&&b.splice(1,1,c[1]);"MSIE"==b[0].toUpperCase()&&(b[0]="IE");"IE"==b[0]&&(c=a.match(/trident\/(\d+)/i))&&(b[2]=Number(c[1])+4);return b}
f("tellBrowser",aa);var ba=!1;function k(){var a=aa();ba="IE"==a[0]&&10==a[1];return{IE:3,Chrome:-1,Edge:3,Firefox:-1}[a[0]]}f("detectPlayerType",k);var da=this?this:window;function f(a,b){a=a.split(".");var c=da||window;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}:c[d]=b};var ea=window.EVT_NO_SVC=100,ia=window.EVT_SVC_UP=101,ja=window.EVT_SVC_DOWN=102,ka=window.EVT_WS_EXCEPTION=103,la=window.EVT_FORCE_OFFLINE=104;function l(a,b){var c=window.onRpcEvent;c&&c(a,b)}function m(a,b,c){this.code=a;this.message=b;this.data=c}f("RpcErr",m);m.prototype.toString=function(){return JSON.stringify({code:this.code,message:this.message,data:this.data})};function n(a,b,c,d){a?(++p||++p,a=p):a=0;this.id=a;this.method=b;this.aa=c;this.rev=null==d?0:d}
n.prototype.toString=function(){return JSON.stringify({jsonrpc:"2.0",id:this.id,method:this.method,params:this.aa,rev:this.rev})};var p=0;function q(a,b,c){this.id=a;this.result=b;this.error=c}q.prototype.o=function(){return!!this.error&&0!=this.error.code};q.prototype.iserr=q.prototype.o;q.prototype.toString=function(){var a={jsonrpc:"2.0",id:this.id};this.o()?a.error=this.error:a.result=this.result;return JSON.stringify(a)};
function t(a,b){var c=this;this.id=0;this.b={};this.m={};this.u=a;this.h=[];this.f=null;this.j=0;c.connect(b);c.sa=window.setInterval(function(){c.a.readyState!=WebSocket.OPEN&&c.a.readyState!=WebSocket.CONNECTING&&c.connect()},1E3);c.qa=window.setInterval(function(){var a=Date.now()/1E3,b=[];Object.keys(c.b).forEach(function(d){var g=c.b[d];if(30<a-g.time){var e=new q(d);e.error=new m(-32001,"ERR_PEER_TIMEOUT");g.W(e);b.push(d)}});b.forEach(function(a){delete c.b[a]})},1E4)}
function ma(a){var b=u;b.f=a;b.a.readyState==WebSocket.OPEN&&a&&setTimeout(function(){a(!0)})}
t.prototype.connect=function(a){var b=this,c=this.a;a&&b.h.push(a);if(null==c||c.readyState!=WebSocket.CONNECTING){if(null==c||b.a.readyState!=WebSocket.OPEN){try{c="undefined"!=typeof MozWebSocket?new MozWebSocket(b.u):new WebSocket(b.u)}catch(d){console.log("WebSocket connection error: ",d.name+": "+d.message),l(ka)}b.a=c}c&&(c.onopen=function(){l(ia);b.j=10;b.w=!1;b.C=!1;for(var a in b.h)b.h[Number(a)]();b.h=[];null!=b.f&&b.f(!0)},c.onmessage=function(a){a:{var c={};try{c=JSON.parse(a.data)}catch(ca){break a}if(void 0!=
c.method){a=c;if("2.0"==a.jsonrpc&&void 0!=a.method){c=new n(!1,a.method,a.params,a.rev);c.id=a.id;var d=c}else d=null;if(null!=d){a=new q(d.id);if(null==(c=b.m[d.method]))a.error=new m(-32601,"ERR_METHOD_NOT_FOUND");else if(null==c.ba||c.ba(d.rev)){var r=JSON.parse(d.aa);c.ia(d,r,a)}else a.error=new m(-32E3,"ERR_INVALID_METHOD_REV");null!=d.id&&0!=d.id&&b.send(a.toString())}}else a="2.0"!=c.jsonrpc||void 0==c.result&&void 0==c.error?null:new q(c.id,c.result,c.error),null!=a&&(c=b.b[a.id],null!=c&&
(delete b.b[a.id],c.W(a)))}},c.onclose=function(){b.w||(null!=b.f&&b.f(!1),b.C||(l(ja),--b.j))},c.onerror=function(a){JSON.stringify(a);b.w=!0;l(ea);--b.j})}};t.prototype.close=function(){window.clearInterval(this.sa);window.clearInterval(this.qa);this.xa&&window.clearInterval(this.xa);this.C=!0;this.a&&(this.a.close(),this.a=null)};t.prototype.send=function(a){var b=this;if(b.a.readyState==WebSocket.OPEN)try{b.a.send(a)}catch(c){}else this.connect(function(){b.a.send(a)})};
t.prototype.call=function(a,b,c,d){a=new n(!!d,a,b,c);this.send(a.toString());d&&(this.b[a.id]={W:d,method:a.method,time:Date.now()/1E3})};function na(a){return function(b){return b==a}}function v(a,b,c){c=null==c?0:c;u.m[a]={name:a,ia:b,rev:c,ba:na(c)}}f("regEvent",v);var u=new t(h()+"://localhost:41301/rpc");function w(a,b,c,d){"object"==typeof b&&(b=JSON.stringify(b));u.call(a,b,d,c)}f("call",w);f("regRpcConnListener",function(a){ma(a)});v("heartbeat",function(a,b,c){c.result="OK"});
v("jsonrpc::offline",function(a,b){u.close();console.log("You're offline. ",JSON.stringify(b));l(la,b);u.Z&&u.Z(b)});f("regRpcForceOfflineListener",function(a){u.Z=a});function x(a){var b;var c="";var d=a.length;for(b=0;b<d;b++){var g=a.charCodeAt(b);1<=g&&127>=g?c+=a.charAt(b):(2047<g?(c+=String.fromCharCode(224|g>>12&15),c+=String.fromCharCode(128|g>>6&63)):c+=String.fromCharCode(192|g>>6&31),c+=String.fromCharCode(128|g>>0&63))}return c}
function y(a){var b;var c="";var d=a.length;for(b=0;b<d;){var g=a.charCodeAt(b++);switch(g>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:c+=a.charAt(b-1);break;case 12:case 13:var e=a.charCodeAt(b++);c+=String.fromCharCode((g&31)<<6|e&63);break;case 14:e=a.charCodeAt(b++);var r=a.charCodeAt(b++);c+=String.fromCharCode((g&15)<<12|(e&63)<<6|(r&63)<<0)}}return c}
var z=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,
-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];
function A(a){var b;var c=a.length;var d=0;for(b="";d<c;){var g=a.charCodeAt(d++)&255;if(d==c){b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g>>2);b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((g&3)<<4);b+="==";break}var e=a.charCodeAt(d++);if(d==c){b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g>>2);b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((g&3)<<4|(e&240)>>4);b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((e&
15)<<2);b+="=";break}var r=a.charCodeAt(d++);b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g>>2);b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((g&3)<<4|(e&240)>>4);b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((e&15)<<2|(r&192)>>6);b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r&63)}return b}
function B(a){var b;var c=a.length;var d=0;for(b="";d<c;){do var g=z[a.charCodeAt(d++)&255];while(d<c&&-1==g);if(-1==g)break;do var e=z[a.charCodeAt(d++)&255];while(d<c&&-1==e);if(-1==e)break;b+=String.fromCharCode(g<<2|(e&48)>>4);do{g=a.charCodeAt(d++)&255;if(61==g)return b;g=z[g]}while(d<c&&-1==g);if(-1==g)break;b+=String.fromCharCode((e&15)<<4|(g&60)>>2);do{e=a.charCodeAt(d++)&255;if(61==e)return b;e=z[e]}while(d<c&&-1==e);if(-1==e)break;b+=String.fromCharCode((g&3)<<6|e)}return b};window.doLogin=oa;window.doLoginOut=pa;window.doCreateChatroom=qa;window.doAddChatroomMember=ra;window.doUpdateChatroom=sa;window.doDeleteChatroomMember=ta;window.doLoad=ua;window.doChannelEnter=va;window.doChannelEnterMonitor=wa;window.doChannelExit=xa;window.doTalkRequest=ya;window.doTalkRequestWithUserlist=za;window.doTalkRelease=Aa;window.doSessionTempCall=Ba;window.doSessionCallInvite=Ca;window.doAcceptCall=Da;window.doRejectCall=Ea;window.doLeaveCall=Fa;window.doIncomingBusy=Ga;
window.doRecordPlayStart=Ha;window.doRecordPlayStop=Ia;window.doSessionMessageSend=Ja;window.doSessionPicMessageSend=Ka;window.doDeleteChatroom=La;window.doUpdateGroupMemberPriority=Ma;window.doStartRecord=Na;window.doStopRecord=Oa;window.mouseDownStartRecord=Pa;window.mouseUpStopRecord=Qa;window.onButtonRecord=Ra;window.isServiceLock=Sa;window.doSecretImageDownload=Ta;window.doSecretImageDownloadAsync=Ua;window.doServiceResourceReportCaptureLocal=Va;
window.doServiceResourceReportCaptureLocalBuffer=Wa;window.doGetVersion=Xa;window.doRestartSvc=Ya;window.doSetCrashReportUrl=Za;window.doSetLogLvl=$a;window.doVersionCheck=ab;function Xa(a){w("getVersion",null,function(b){b=b.result;a&&a(b)})}function Ya(){w("restartSvc")}function Za(a){w("setCrashReportUrl",{url:a})}function $a(a){w("setLogLvl",{lvl:a})}function ab(a){w("serviceCheckVersion",{oldVersion:"2.3.2.0"},function(b){var c=1;b.o()&&(c=-1);c=0==b.result?0:c;a&&a(c)})}
function oa(a,b,c){w("serviceLogin",{userid:A(x(b)),password:A(x(c)),serverIp:A(x(a)),serviceKey:A(x("Win7 Operator"))})}function pa(){w("serviceLogout")}function qa(a){w("serviceChatroomCreate",{roomInfo:A(x(a))})}function ra(a){w("serviceChatroomAddMember",{roomInfo:A(x(a))})}function sa(a){w("serviceChatroomUpdate",{roomInfo:A(x(a))})}function ta(a){w("serviceChatroomDeleteMember",{roomInfo:A(x(a))})}function ua(){w("serviceGroupListGet")}
function va(a,b){w("serviceSessionEnterChat",{roomid:A(x(a))},function(a){a.o()&&(a.result=-1);b&&b(a.result)})}function wa(a,b){w("serviceSessionEnterChatMonitor",{roomid:A(x(a))},function(a){a.o()&&(a.result=-1);b&&b(a.result)})}function xa(a){w("serviceSessionExitChat",{roomid:A(x(a))})}function ya(a){w("serviceMediaTalkRequest",{sessionIndex:a})}function za(a,b){var c=A(x("null"));null!=b&&(c=A(x(b)));w("serviceMediaTalkRequestWithUserlist",{sessionIndex:a,userList:c})}
function Aa(a){w("serviceMediaTalkRelease",{sessionIndex:a})}function Ba(a,b,c,d){try{var g=A(x("null")),e=A(x("null"));null!=b&&(g=A(x(b+"")));null!=a&&(e=A(x(a)));1==c?w("serviceSessionCallVideo",{userids:e,sid:g},function(a){a.o()&&(a.result=-1);d&&d(a.result)}):w("serviceSessionCall",{userids:e,sid:g},function(a){a.o()&&(a.result=-1);d&&d(a.result)})}catch(r){}}function Ca(a,b){try{w("serviceSessionCallJoin",{sessionIndex:a,userids:A(x(b))})}catch(c){}}
function Da(a){w("serviceSessionAcceptCall",{sessionIndex:a})}function Ea(a){console.log(typeof a);w("serviceSessionRejectCall",{sessionIndex:a})}function Fa(a){console.log(typeof a);w("serviceSessionLeaveCall",{sessionIndex:a})}function Ga(a){w("serviceSessionBusy",{sessionid:a})}function Ha(a,b,c,d){a=A(x(a+""));b=A(x(b+""));d=A(x(d+""));w("serviceRecordPlayStop");w("serviceRecordPlayStart",{code:a,resid:b,secret:c,secret_key:d})}function Ia(){w("serviceRecordPlayStop")}
function Ja(a,b,c,d,g,e){try{d=d.replace(/</g,"&lt;"),d=d.replace(/>/g,"&gt;")}catch(r){}w("serviceMessageSend",{messagetype:a,sid:A(x(b+"")),ipocids:A(x(c+"")),contenttext:A(x(d+"")),contentres:A(x(g+"")),allowOfflineSend:e})}function Ka(a,b,c,d,g){try{d=d.replace(/</g,"&lt;"),d=d.replace(/>/g,"&gt;")}catch(e){}w("servicePicMessageSend",{messagetype:a,sid:A(x(b+"")),ipocids:A(x(c+"")),picpath:A(x(d+"")),allowOfflineSend:g})}
function Wa(a,b,c,d,g,e,r){w("serviceResourceReportCaptureLocalBuffer",{ownerId:A(x(a+"")),resType:b,resTypeExt:A(x(c+"")),picData:d,content:A(x(g+"")),picMark:A(x(e+"")),taskId:A(x(r+""))})}function Va(a,b,c,d,g,e,r){w("serviceResourceReportCaptureLocal",{ownerId:A(x(a+"")),resType:b,resTypeExt:A(x(c+"")),picPath:A(x(d+"")),content:A(x(g+"")),picMark:A(x(e+"")),taskId:A(x(r+""))})}function La(a){w("serviceChatroomDelete",{roomId:A(x(a))})}
function Ma(a,b,c,d){w("serviceChatroomModifyMember",{ipocid:A(x(b+"")),roomid:A(x(a)),memberType:c,memberTalkDuration:d})}function Na(){w("serviceRecordStart")}function Oa(a){w("serviceRecordStop",{isCancel:a})}function Pa(){mouseDownOrUpRecord(3);w("serviceRecordStart")}function Qa(){mouseDownOrUpRecord(3);w("serviceRecordStop",{isCancel:0})}
function Ra(a){var b=$("#inputDownloadURL").val();b==""+str_select_store_path+""?Toast(""+str_select_save_path+"",2):w("serviceRecDataLoad",{resid:A(x(a+"")),path:A(x(b+"\\")),isEncrypt:0})}function Sa(a,b){w("serviceSessionLock",{sessionid:a,isLock:b})}function Ta(a,b,c,d,g){w("serviceSecretImageDownloadSync",{code:A(x(a)),url:A(x(b)),secret:c,secret_key:A(x(d))},function(a){g&&g(y(B(a.result)))})}
function Ua(a,b,c,d){a=A(x(a));b=A(x(b));d=A(x(d));try{w("serviceSecretImageDownload",{code:a,url:b,secret:c,secret_key:d})}catch(g){}}v("eventLogin",function(a,b){console.log("\u6e2c\u8a66\u662f\u5426\u8c03\u7528\u51fd\u6570");onLogin(b.result,b.secret)});v("eventLogout",function(a,b){onLogout(b.ok)});v("eventChannelSessionAlertClose",function(a,b){eventChannelSessionAlertClose(b.result)});v("eventChannelSessionAlertSent",function(a,b){eventChannelSessionAlertSent(b.result,b.sid)});
v("eventChannelSessionAlertStart",function(a,b){eventChannelSessionAlertStart(b.channelId,b.callerId,b.callerName)});v("eventChatroomCreate",function(a,b){a=b.isOk;b=b.roomId;try{onChatroomCreate(a,b)}catch(c){D("[eventChatroomCreate ] : isOk= "+a+" roomId ="+b+"  E:"+c)}});v("eventChatroomDelete",function(a,b){a=b.isOk;try{onChatroomDelete(a,null)}catch(c){D("[eventChatroomDelete ] :isOk="+a+"  E:"+c)}});
v("eventChatroomEnter",function(a,b){a=b.replyOk;b=b.sessionIndex;try{onChatRoomEnter(a,b)}catch(c){D("[eventChatroomEnter ] : sessionIndex= "+b+" replyOk="+a+"  E:"+c)}});v("eventChatroomExit",function(a,b){a=b.sessionIndex;try{onChatRoomExit(a)}catch(c){D("[eventChatroomExit ] : sessionIndex= "+a+"  E:"+c)}});v("eventChatroomMemberAdd",function(a,b){a=b.isOk;try{onChatroomAddMember(a)}catch(c){D("[eventChatroomAddMember ] : isOk= "+a+"  E:"+c)}});
v("eventChatroomMemberDelete",function(a,b){a=b.isOK;try{onChatroomMemberDelete(a)}catch(c){D("[onChatroomMemberDelete ] : isOk= "+a+"  E:"+c)}});v("eventChatroomMemberModify",function(a,b){a=b.isOK;try{onMemberPrioritySave(a)}catch(c){D("[eventChannelMemberModify ] :isOk="+a+"  E:"+c)}});v("eventChatroomPresence",function(a,b){bb(b.json)});v("eventChatroomPresenceAdd",function(a,b){cb(b.json)});v("eventChatroomPresenceDel",function(a,b){db(b.json)});v("eventChatroomQueue",function(a,b){eb(b.jsonStr)});
v("eventChatroomUpdate",function(a,b){a=b.isOk;try{onChatroomUpdate(a)}catch(c){D("[onChatroomMemberDelete ] : isOk= "+a+"  E:"+c)}});v("eventDialogMemberGet",function(a,b){fb(b.json)});v("eventDialogMemberUpdate",function(a,b){a=b.json;try{var c=y(B(a));onSessionDialogMemberChange(a)}catch(d){D("[eventSessionDialogMemberChange ] :json="+c+"  E:"+d)}});v("eventDialogMemberUpdateNotify",function(a,b){gb(b.json)});v("eventDialogPresence",function(a,b){hb(b.json)});
v("eventHeartbeat",function(a,b){a=b.result;try{onHeartbeat(a)}catch(c){D("[eventHeartBeat ] : result= "+a+"  E:"+c)}});v("eventInqueueConfirm",function(){});v("eventMediaInqueueConfirm",function(a,b){eventMediaInqueueConfirm(b.sessionIndex)});v("eventMediaOutqueueConfirm",function(a,b){eventMediaOutqueueConfirm(b.sessionIndex)});v("eventMediaStateIdle",function(a,b){a=b.sessionIndex;try{onMediaStateIdle(a,b.reason)}catch(c){D("[eventMediaStateIdle ] : sessionIndex= "+a+"  E:"+c)}});
v("eventMediaStateListen",function(a,b){a=b.sessionIndex;b=b.speaker;try{b=y(B(b)),onMediaStateListern(a,b)}catch(c){D("[eventMediaStateListern ] : sessionIndex= "+a+"speaker="+b+"  E:"+c)}});v("eventMediaStateTalk",function(a,b){a=b.sessionIndex;try{onMediaStateTalk(a)}catch(c){D("[eventMediaStateTalk ] : sessionIndex= "+a+"  E:"+c)}});
v("eventMediaVoice",function(a,b){a=b.sessionIndex;b=b.speaker;try{currentTabSession&&currentTabSession||$("#current-speaker"+a).Ba('<div style="width:105px;white-space: nowrap; overflow:hidden; text-overflow:ellipsis;">'+getUserDisplayName(b)+'</div><div style="margin-top:-27px;margin-left:-134px;"><img src="images/chat_dialog.png"/></div><div style="margin-left:105px;margin-top:-32px;width:50px;">'+str_speaking+"</div>")}catch(c){D("[eventMediaVoice ] :sessionIndex="+a+"speaker="+b+"  E:"+c)}});
v("eventMessageRecv",function(a,b){ib(b.result,b.json)});v("eventMessageSent",function(a,b){jb(b.result,b.json)});v("eventOutQueueConfirm",function(){});v("eventPushBroadcast",function(){try{newBroadcast(),onDialogClose()}catch(a){D("[eventPushBroadcast ] :json="+jsons+"  E:"+a)}});v("eventPushContent",function(a,b){kb(b.json)});v("eventPushLocation",function(a,b){lb(b.json)});v("eventPushReport",function(a,b){mb(b.json)});v("eventRecDataLoaded",function(a,b){recordDownloadCheck(b.ret)});
v("eventRecRecordStart",function(a,b){a=b.wParam;try{eventRecRecordStart(a)}catch(c){D("[OnJsEventRecRecordStart ] :wParam="+a+"  E:"+c)}});v("eventRecRecordStop",function(a,b){a=b.wParam;try{eventRecRecordStop(a,y(B(b.base64Resid)))}catch(c){D("[OnJsEventRecRecordStop ] :wParam="+a+"  E:"+c)}});v("eventRecordPlayStart",function(a,b){a=b.code;b=b.resid;try{a=y(B(a)),onRecordPlayStart(a,y(B(b)))}catch(c){D("[eventRecordPlayStart ] : code= "+a+"resid= "+b+"  E:"+c)}});
v("eventRecordPlayStop",function(a,b){a=b.code;b=b.resid;try{a=y(B(a)),onRecordPlayStop(a,y(B(b)))}catch(c){D("[eventRecordPlayStop ] : code= "+a+"resid= "+b+"  E:"+c)}});v("eventSecretImageDownload",function(a,b){nb(b.info)});v("eventSessionEstablish",function(a,b){try{onSessionEstablish(b.sessionIndex,y(B(b.sid)))}catch(c){}});
v("eventSessionIncomingAlert",function(a,b){a=b.sessionIndex;var c=b.user;b=b.sid;try{onSessionIncomingAlert(a,y(B(c)),y(B(b)))}catch(d){D("[eventSessionIncomingAlert ] : sessionIndex= "+a+"user="+c+"sid="+b+"  E:"+d)}});v("eventSessionOutgoingRinging",function(a,b){a=b.sessionIndex;b=b.sid;try{onSessionOutgoingRinging(a,y(B(b)))}catch(c){D("[eventSessionOutgoingRinging ] : sessionIndex= "+a+"sid="+b+"  E:"+c)}});
v("eventSessionRelease",function(a,b){a=b.sessionIndex;b=b.releaseReason;try{onSessionRelease(a,b)}catch(c){D("[eventSessionRelease ] : sessionIndex= "+a+"releaseReason"+b+"  E:"+c)}});v("eventUserPresence",function(a,b){ob(b.json)});v("eventVideoShare",function(a,b){pb(b.json)});v("eventVideoCaptureFinish",function(a,b){a=b.ok;try{onVideoReportCaptureLocalFinish(a)}catch(c){D("[onEventVideoCaptureFinish ] : ok= "+a+"  E:"+c)}});v("eventRestart",function(){var a=window.eventSvcRestart;a&&a()});
function eb(a){try{var b=y(B(a));onChatroomQueue(eval("("+b+")"))}catch(c){D("[eventChatroomQueue ] : parseJson= "+b+"  E:"+c)}}function ob(a){try{var b=y(B(a));onContactPresence(eval("("+b+")"))}catch(c){D("[eventContactPresenceAir ] : parseJson= "+b+"  E:"+c)}}function mb(a){try{var b=y(B(a));onUserMessage(eval("("+b+")"))}catch(c){D("[eventPushReport ] : json= "+b+"  E:"+c)}}
function lb(a){try{var b=y(B(a));onUserLocaltionChanged(eval("("+b+")"))}catch(c){D("[eventUserLocaltionChanged ] : json= "+b+"  E:"+c)}}function ib(a,b){try{if(null!=b&&""!=b){var c=y(B(b));if(null!=c){var d=eval("("+c+")");onMessageRecv(a,d)}}}catch(g){D("[eventMessageRecv ] : json= "+b+"  E:"+g)}}function jb(a,b){try{var c=y(B(b));var d=eval("("+c+")");4==d.state&&onMessageSent(0,d)}catch(g){D("[eventMessageSent ] : result= "+a+"json="+c+"  E:"+g)}}
function kb(a){try{var b=y(B(a));b=eval("("+b+")");switch(b.t){case 210:pushWarningFence(b);break;case 216:qb(b);break;case 218:rb(b);break;case 129:sb(b);break;case 300:try{onPushUserNameChanged(b)}catch(c){D("[onPushUserNameChanged] :json="+b+"  E:"+c)}break;case 301:try{onPushOrgNameChanged(b)}catch(c){D("[onPushOrgNameChanged] :json="+b+"  E:"+c)}break;case 302:try{onPushUserRoleChanged(b)}catch(c){D("[onPushUserRoleChanged] :json="+b+"  E:"+c)}break;case 303:try{onPushOrgStructChanged(b)}catch(c){D("[onPushOrgStructChanged] :json="+
b+"  E:"+c)}}}catch(c){D("[eventPushContent ] :json="+b+"  E:"+c)}}function qb(a){try{onVideoCaptureGet(a)}catch(b){D("[videoCaptureGet ] :json="+a+"  E:"+b)}}function rb(a){try{onVideoLocalCaptureGet(a)}catch(b){D("[videoLocalCaptureGet ] :json="+a+"  E:"+b)}}function sb(a){try{onVideoStorePush(a)}catch(b){D("[videoStorePush ] :json="+a+"  E:"+b)}}function hb(a){try{var b=y(B(a));onSessionDialogPresence(eval("("+b+")"))}catch(c){D("[eventSessionDialogPresence ] :json="+b+"  E:"+c)}}
function fb(a){try{var b=y(B(a));onSessionDialogMemberChange(eval("("+b+")"))}catch(c){D("[eventSessionDialogMemberGet ] :json="+b+"  E:"+c)}}function gb(a){try{onSessionDialogMemberChange(eval("("+y(B(a))+")"))}catch(b){D("[eventSessionDialogMemberNotify ] :json="+B(a)+"  E:"+b)}}function bb(a){try{var b=y(B(a));onSessionChannelPresence(eval("("+b+")"))}catch(c){D("[eventSessionChannelPresence ] :json="+b+"  E:"+c)}}
function cb(a){try{var b=y(B(a));onSessionChannelUserEnter(eval("("+b+")"))}catch(c){D("[eventSessionChannelUserEnter ] :json="+b+"  E:"+c)}}function db(a){try{var b=y(B(a));onSessionChannelUserExit(eval("("+b+")"))}catch(c){D("[eventSessionChannelUserExit ] :json="+b+"  E:"+c)}}function pb(a){try{var b=y(B(a));tb(eval("("+b+")"))}catch(c){D("[eventVideoShare ] :json="+b+"  E:"+c)}}
function nb(a){try{var b=y(B(a));b=eval("("+b+")");setResPath(b.code,b.file_path);document.getElementById(b.code).src=b.file_path}catch(c){D("[eventSecretImageDownload ] :  E:"+c)}}function D(a){console.log("setWebError:"+a)};function E(a,b,c){this.h="string"==typeof a?document.getElementById(a):a;this.j=b;this.w=c;this.b=!1;this.a=this.f=null}E.prototype.stop=function(){this.b&&(this.b=!1,"open"==this.a.readyState&&this.a.endOfStream(),this.f&&this.f.close(),this.buffer=this.a=this.f=null,this.m&&clearInterval(this.m))};
E.prototype.start=function(){if(!this.b){this.b=!0;var a=this.buffer,b=[],c=0,d=this,g=this.h,e=this.a=new MediaSource;g.addEventListener("loadeddata",function(){2<=g.readyState&&g.play()});g.addEventListener("loadedmetadata",function(){});g.addEventListener("error",function(){});e.addEventListener("sourceopen",function(){a=this.buffer=e.addSourceBuffer(d.j);a.addEventListener("update",function(){0<b.length&&!a.updating&&a.appendBuffer(b.shift())});a.addEventListener("updateend",function(){!a.updating&&
1<=a.buffered.length&&30<g.currentTime-a.buffered.start(0)&&a.remove(a.buffered.start(0),g.currentTime-10);g.paused||2>=g.readyState?c++:c=0;var b=d.h,e=b.buffered;if(0!=e.length){if(b.readyState<=HTMLMediaElement.HAVE_CURRENT_DATA)for(var r=b.currentTime,C=0;C<e.length;C++){var fa=e.start(C),ha=e.end(C);if(fa<=r&&r<=ha){1<e.length-C?b.currentTime=e.start(C+1):1<ha-r&&(b.currentTime+=.2);break}else if(fa>r){b.currentTime=e.start(C);break}}e=e.end(e.length-1);r=e-b.currentTime;0>r&&(b.currentTime=
e-1,r=e-b.currentTime);d.u==b.currentTime&&1<r&&(b.currentTime+=.2);d.u=b.currentTime;5<r&&2>b.playbackRate?b.playbackRate=2:2<r&&1.5>b.playbackRate?b.playbackRate=1.5:1<r&&1.2>b.playbackRate?b.playbackRate=1.2:1>=r&&1!=b.playbackRate&&(b.playbackRate=1)}},!1)},!1);var r=d.f=new WebSocket(d.w);r.binaryType="arraybuffer";r.addEventListener("message",function(c){c=c.data;"string"==typeof c?(c=JSON.parse(c),1==c.type&&(d.j=c["MIME-Codecs"],g.src=window.URL.createObjectURL(e))):!a||a.updating?b.push(c):
a.appendBuffer(c)},!1)}};var G=new F(36);f("videoSessionList",G);var H=k(),I=0,ub=!0;Date.ta=function(a){return a+28800};f("Date.sec",Date.ta);f("setRtmpPlayer",function(a){I=a});f("enableFullScreen",function(a){ub=a});f("onVideoStalled",function(a,b){if(a=G.U(a))"stall"==b?(console.log("\u9ed1\u5c4f"),a.ea(),window.onVideoStalledNotify(a)):(b=a.c,b.pause(),b.resume())});function vb(){var a=null==a?k():a;w("setPlayerType",{type:a});H=a;3==H&&v("eventAVResync",function(){})}
ma(function(a){a&&(G.ca(window.onNewVideoHandler,window.onVideoStopHandler,function(a){alert(a.ssid+" too many videos")}),vb())});function J(a,b){this.g=a;a.videoSession=this;this.time=new Date;this.i=b;this.paused=!1}J.prototype.ja=function(){return this.g};J.prototype.getInf=J.prototype.ja;J.prototype.ma=function(){return this.c};J.prototype.getPlayer=J.prototype.ma;J.prototype.startTime=function(){return this.time};J.prototype.startTime=J.prototype.startTime;
function wb(a,b){a.c=b;b.videoSession=a;b.src=a.g.url;b.autoplay=!0;b.id="av_"+a.g.ssid;a.s(void 0);0==a.i?setTimeout(function(){try{b.VideoPlayUrl(b.src),b.Mute(b.muted)}catch(c){alert("\u64ad\u653e\u5668\u52a0\u8f7d\u5931\u8d25\u3002\n\n\u8bf7\u5c06\u5f53\u524d\u7f51\u7ad9\u52a0\u5165\u5230\u201c\u53d7\u4fe1\u4efb\u7684\u7ad9\u70b9\u201d\u4e2d\uff0c\u5e76\u5c06\u201c\u8be5\u533a\u57df\u7684\u5b89\u5168\u7ea7\u522b\u201d\u8bbe\u7f6e\u4e3a\u201c\u4f4e\u201d\uff0c\u7136\u540e\u91cd\u542f\u6d4f\u89c8\u5668\u3002")}}):
2==a.i?(a.a=new E(b,"",h()+"://127.0.0.1:41301/av/"+a.g.ssid),a.a.start()):1==a.i?a.a=window.Streamedian.Ca(b,{Da:h()+"://127.0.0.1:41301/rtsp"}):3==a.i&&1==I&&a.s()}J.prototype.s=function(a){var b=this.i,c=this.c;c.muted=null==a?!0:a;if(!c.muting){c.muting=!0;var d=function(a,b,c){var e=!b.N;try{0==a&&b.GetMute!=b.muted?b.Mute(b.muted):3==a&&b.getProperty("muted")!=b.muted&&b.setProperty("muted",b.muted)}catch(Db){e=!0}e&&c&&--c?setTimeout(function(){d(a,b,c)},20):b.muting=!1};d(b,c,500)}};
J.prototype.mute=J.prototype.s;J.prototype.O=function(){var a=this.c;return 3==this.i&&a.snapshot?a.snapshot():null};J.prototype.snapshot=J.prototype.O;J.prototype.B=function(a){if(ub){var b=this.i,c=this.c;c.X=null==a?!0:a;if(!c.K){c.K=!0;var d=function(a,b,c){var e=!1;3==a&&(b.setProperty&&b.setProperty("enableDblClick",b.X),e=null==b.getProperty||b.getProperty("enableDblClick")!=b.X);b.K=e&&0<--c;b.K&&setTimeout(function(){d(a,b,c)},20)};d(b,c,500)}}};J.prototype.enableFullScreen=J.prototype.B;
J.prototype.pa=function(){return this.paused};J.prototype.isPaused=J.prototype.pa;J.prototype.pause=function(){var a=this.c;this.paused||(a.pause&&a.pause(),w("pauseVideo",{ssid:this.g.ssid}),this.paused=!0)};J.prototype.pause=J.prototype.pause;J.prototype.resume=function(){var a=this.c;this.paused&&(a.resume&&a.resume(),w("resumeVideo",{ssid:this.g.ssid}),this.paused=!1)};J.prototype.resume=J.prototype.resume;J.prototype.rotate=function(a){var b=this.c;b.rotate&&b.rotate(null==a?a:90)};
J.prototype.rotate=J.prototype.rotate;J.prototype.wa=function(){w("syncVideo",{ssid:this.g.ssid})};J.prototype.syncSrc=J.prototype.wa;J.prototype.ea=function(){var a=this.c;3==this.i&&a.sync&&a.sync()};J.prototype.syncPlayer=J.prototype.ea;J.prototype.stop=function(){try{this.c&&(0==this.i&&this.c.VideoStop?this.c.VideoStop():this.c.pause&&this.c.pause(),this.c.src=null),this.a&&(this.a.stop&&this.a.stop(),this.a.fa&&setTimeout(function(a){try{a.fa()}catch(b){}},1E3,this.a)),this.c.stop&&this.c.stop()}catch(a){}};
function F(a){this.j=a;this.b=[];this.h=[];this.f=[];this.a=null}F.prototype.ka=function(){return this.j};F.prototype.getLimit=F.prototype.ka;F.prototype.ua=function(a){this.j=a};F.prototype.setLimit=F.prototype.ua;F.prototype.Y=function(){return this.size()>=this.j};F.prototype.full=F.prototype.Y;F.prototype.size=function(){return this.b.length};F.prototype.size=F.prototype.size;F.prototype.M=function(a){if(!a)return-1;var b=this.b.indexOf(a);-1!=b&&this.b.splice(b,1);a.stop();return b};
F.prototype.hangup=F.prototype.M;F.prototype.ha=function(a){for(var b=0;b<this.size();b++)if(this.b[b].g.url==a)return this.b[b];return null};F.prototype.findByUrl=F.prototype.ha;F.prototype.J=function(a){for(var b=0;b<this.size();b++)if(this.b[b].g.ssid==a)return this.b[b];return null};F.prototype.findBySsid=F.prototype.J;F.prototype.U=function(a){for(var b=0;b<this.size();b++)if(this.b[b].c.id==a)return this.b[b];return null};F.prototype.findByPlayerId=F.prototype.U;
F.prototype.V=function(a){for(var b=0;b<this.f.length;b++)if(this.f[b].ssid==a)return this.f[b];return null};F.prototype.findBySsidInWait=F.prototype.V;F.prototype.ga=function(a){return this.J(a)||this.V(a)};F.prototype.existSsid=F.prototype.ga;F.prototype.na=function(){return this.a};F.prototype.getWatching=F.prototype.na;F.prototype.la=function(){return this.h};F.prototype.getPinningSids=F.prototype.la;
F.prototype.move=function(a,b){var c=this.b.indexOf(a);-1!=c&&(this.b.splice(c,1),c=this.b.indexOf(b),c=-1==c?this.size():c,this.b.splice(c,0,a))};F.prototype.move=F.prototype.move;F.prototype.ra=function(a){-1==this.h.indexOf(a.g.sid)&&this.h.push(a.g.sid)};F.prototype.pin=F.prototype.ra;F.prototype.ya=function(a){a=this.h.indexOf(a.g.sid);-1!=a&&this.h.splice(a,1)};F.prototype.unpin=F.prototype.ya;
F.prototype.S=function(a){var b=this.b.indexOf(this.a),c=this.b.indexOf(a);-1!=b&&-1!=c?(this.b[b]=a,this.b[c]=this.a):-1==c&&(a=null);this.a&&(this.a.s(),this.a.B(!1));a&&(a.s(!1),a.B());return this.a=a};F.prototype.watchMe=F.prototype.S;F.prototype.za=function(){if(!this.a)return null;this.a.s();this.a.B(!1);if(1!=this.a.g.cls){var a=this.M(this.a);a=0>a||a>=this.size()?0:a}else a=xb(this);this.a=null;0<=a&&a<this.size()&&(this.a=this.b[a]);this.a&&(this.a.s(!1),this.a.B());return this.a};
F.prototype.unwatchMe=F.prototype.za;function xb(a){var b=a.b.indexOf(a.a);b++;b>=a.size()&&(b=0);b>=a.size()&&(b=-1);return b}F.prototype.da=function(){var a=[],b=0,c=this;this.b.forEach(function(d){d!=c.a&&(-1==c.h.indexOf(d.g.sid)?a.push(d):a.splice(b++,0,d))});return a};F.prototype.showList=F.prototype.da;F.prototype.Aa=function(){return this.f};F.prototype.waitList=F.prototype.Aa;F.prototype.R=function(a){"number"===typeof a.T?this.f.splice(a.T,0,a):this.f.push(a)};F.prototype.wait=F.prototype.R;
F.prototype.P=function(a){var b=this.f.length;if(null!=a)for(var c=0;c<this.f.length;c++){if(this.f[c].ssid==a){b=c;break}}else b=0;return b<this.f.length?(a=this.f.splice(b,1)[0],a.T=Number(b),a):null};F.prototype.unwait=F.prototype.P;F.prototype.ca=function(a,b,c){this.u=a;this.C=b;this.w=c};F.prototype.setEvtListeners=F.prototype.ca;F.prototype.va=function(a){this.m=a};F.prototype.setSnapshotDir=F.prototype.va;
F.prototype.O=function(a){a=a?a:this.a;if(3==a.i)return{data:a.c.snapshot()};if(0!=a.i)return alert("\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u6293\u62cd"),null;if(!this.m||""==this.m)return null;var b=a.c;if(!b)return null;b.VideoSnapshotPath(this.m+a.g.ssid+"-");return{path:b.VideoSnapshot()}};F.prototype.snapshot=F.prototype.O;f("loadVideoSources",function(){w("getVideoSources",null,function(a){a.o()||JSON.parse(a.result).forEach(function(a){tb(a)})})});
function yb(a){var b=H;if(0==b){var c=document.createElement("object");try{c.classid="clsid:E52088B2-5185-4BF6-84E2-F75C4887C8BD"}catch(r){}}else if(3==b){window.videojs||(c=function(a){var b=document.getElementById(a);if(!b.N){b.N=!0;var c=function(){b.detectStall?b.detectStall("onVideoStalled",10):setTimeout(c,500)};c()}},window.videojs={Flash:{onEvent:c,onError:function(){},onReady:function(){}}},window.onJSBridge=c);c=a.lastIndexOf("/");var d=a.substring(0,c),g=a.substring(c+1);c=document.createElement("object");
c.classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000";c.type="application/x-shockwave-flash";c.data="player/player.swf";var e=document.createElement("param");e.name="allowNetworking";e.value="all";c.appendChild(e);e=document.createElement("param");e.name="allowScriptAccess";e.value="always";c.appendChild(e);e=document.createElement("param");e.name="allowFullScreen";e.value="true";c.appendChild(e);e=document.createElement("param");e.name="flashvars";e.value="autoplay=true&muted=true&rtmpConnection="+
d+"&rtmpStream="+g;1==I&&(e.value="javascriptCallbackFunction=onJSBridge&autoPlay=true&muted=true&streamType=live&src="+a,c.data="player/player-1.swf");c.appendChild(e);e=document.createElement("param");e.name="wmode";e.value="transparent";c.appendChild(e);ba&&(a=document.createElement("div"),a.innerHTML=c.outerHTML,c=a.firstChild)}else c=document.createElement("video");c.N=3!=b;return c}
function tb(a){if(a.valid)G.R(a),G.u?G.u(a):(refreshVideoView(),K());else{var b;if(b=G.J(a.ssid)){if(b==G.a){a=G;var c=xb(a);a=-1!=c?a.b[c]:null;b==a&&(a=null);G.S(a)}G.M(b);b=b.g}else b=G.P(a.ssid);G.C?G.C(b):(refreshVideoView(),K())}}f("pickupVideo",function(a){var b=G.P(a);if(!b)return null;a=new J(b,H);var c=G;c.Y()?c=!1:(c.b.unshift(a),c=!0);if(!c)return G.R(b),G.w?G.w(b):alert("Please hang up a video session to accept the new one"),null;b=yb(b.url);wb(a,b);G.a||G.S(a);return a});
f("onShowVideoView",function(){G.b.forEach(function(a){var b=a.c;3==a.i&&b.getProperty.paused!=a.paused&&(a.paused?b.pause():b.resume())})});function K(){G.b.forEach(function(a){var b=a.c;if(0==a.i||3==a.i)a.s(b.muted);else if(b.paused)try{b.play().catch(function(){})}catch(c){}})}f("postRefreshVideoView",K);function L(){this.id=null;this.top=0;this.D=this.F=!1;this.A=this.I=this.H=this.G=0;this.v=!1;this.l=null}var M=new L,N=[],O=-1,P=0,Q=0,R=0,S=0,T=0,U=0;f("uiVideoConfig",function(a,b,c,d,g,e,r,ca){P=b;Q=c;T=e;U=r;R=ca;S=g-r-20;null==M.id&&(M.id="uiVideoBig");M.v=!0;M.top=P;V(M,!0,P,Q,T,U)});var W=null,X=null,Y=null,Z=null;f("uiVideoSetListeners",function(a,b,c,d){W=a;X=b;Y=c;Z=d});
f("uiVideoRefreshView",function(){var a=G.a;if(a){var b=[];videoMainGetTiming(a);var c=a.c;c.width=U;c.height=T;c=zb(a);if(null==c){if(W){var d=W(a);c=new L;c.id=d;c.l=a}}else c.L=!0;null!=c&&(c.v=!0,c.top=P,V(c,!0,P,Q,T,U),Ab(c));G.da().forEach(function(a,c){var d=a.c;d.width=S;d.height=R-30;d=zb(a);if(null==d){if(W){var e=W(a);d=new L;d.id=e;d.l=a}}else d.L=!0;null!=d&&(d.v=!1,d.top=R*c,V(d,!1,d.top,U,R,S),Ab(d),Bb(d),b.push(d))});null!=M.l&&M!=c&&!M.oa&&M.v&&$("#"+M.id).remove();null!=c&&(M=c);
for(a=0;a<N.length;a++)N[a].L||$("#"+N[a].id).remove();M.oa=!1;N.length=0;N=b;for(a=0;a<N.length;a++)N[a].L=!1}else{M.l=null;$("#"+M.id).remove();for(a=0;a<N.length;a++)$("#"+N[a].id).remove();N.length=0;clearInterval(window.videoTimer);$(".video_time").text("")}});function zb(a){var b=null;if(M.l==a)b=M;else for(var c=0;c<N.length;c++)if(N[c].l==a){b=N[c];break}return b}
function Cb(a){if(!a.v){var b=-1;$("#"+a.id).fadeTo("fast",1);for(var c=0;c<N.length;c++)N[c].top=R*c,V(N[c],!1,N[c].top,U,R,S),N[c].id==a.id&&(b=c);a.top+=a.A;U+a.H<U-S?null!=Z&&Z(a.l):0<=O&&O!=b&&G.move(N[O].l,0>b-1?null:N[b-1].l);null!=Y&&Y();O=-1;a.F=!1;a.D=!1;a.G=0;a.H=0;a.I=0;a.A=0}}
function V(a,b,c,d,g,e){$("#"+a.id).css("top",c+"px");$("#"+a.id).css("left",d+"px");$("#"+a.id).css("height",g+"px");$("#"+a.id).css("width",e+"px");$("#"+a.id).css("position",b?"fixed":"absolute");b?$("#"+a.id).css("border-left","none"):$("#"+a.id).css("border-left","3px solid #272726")}
function Bb(a){$("#"+a.id).mousedown(function(b){if(!a.v){$("#"+a.id).fadeTo(20,.5);$("#"+M.id).css("z-index",0);for(var c=0;c<N.length;c++)N[c].id!=a.id?($("#"+N[c].id).css("z-index",0),N[c].D=!1,a.G=0,a.H=0,a.I=0,a.A=0):(O=c,$("#"+N[c].id).css("z-index",1));a.G=b.pageX;a.I=b.pageY;a.D=!0;a.F=!1}b.preventDefault?b.preventDefault():b.returnValue=!1});$("#"+a.id).mouseup(function(){Cb(a)});$("#"+a.id).mouseout(function(){Cb(a)});$("#"+a.id).mousemove(function(b){if(!a.v&&a.D){var c=b.pageX-a.G;var d=
b.pageY-a.I;a.H=c;if(U+c>U-S&&a.top+d>=-(R/2)&&a.top+d<=R*(N.length-1)+R/2){a.A=d;for(b=0;b<N.length;b++)if(N[b].id!=a.id)if(0<N[b].top&&0<N[b].top-(a.top+d)&&N[b].top-(a.top+d)<R/2){N[b].top-=R;$("#"+N[b].id).css("top",N[b].top+"px");0<b&&(d=N[b-1],N[b-1]=N[b],N[b]=d);for(b=0;b<N.length&&N[b].id!=a.id;b++)N[b].top=R*b;break}else if(0<a.top+d-N[b].top&&a.top+d-N[b].top<R/2){N[b].top+=R;$("#"+N[b].id).css("top",N[b].top+"px");b<N.length-1&&(d=N[b+1],N[b+1]=N[b],N[b]=d);for(b=0;b<N.length&&N[b].id!=
a.id;b++)N[b].top=R*b;break}$("#"+a.id).css("top",a.top+a.A+"px");a.F||(null!=X&&X(),a.F=!0)}$("#"+a.id).css("left",U+c+"px")}})}function Ab(a){$("#"+a.id).off("mousedown");$("#"+a.id).off("mouseup");$("#"+a.id).off("mouseout");$("#"+a.id).off("mousemove")};
}));